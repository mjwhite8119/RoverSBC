<?xml version="1.0" ?>

<robot name="rover" xmlns:xacro="https://www.ros.org/wiki/xacro" >
    
  <!-- <xacro:include filename="$(find rover_description)/urdf/materials.xacro" />
  <xacro:include filename="$(find rover_description)/urdf/gazebo.xacro" />
  <xacro:include filename="$(find rover_description)/urdf/macro.xacro" /> -->

  <link name="base_link">
    <!-- pose and inertial -->
    <pose>0 0 0.1 0 0 0</pose>
    
    <inertial>
      <mass value="2"/>
      <origin rpy="0 0 0" xyz="0 0 0.1"/>
      <inertia ixx="0.0395416666667" ixy="0" ixz="0" iyy="0.106208333333" iyz="0" izz="0.106208333333"/>
    </inertial>
    
    <collision name="collision_chassis">
      <geometry>
        <box size="0.098 0.148 0.050"/>
      </geometry>
    </collision>
    
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.098 0.148 0.050"/>
      </geometry>
      <material name="blue"/>
    </visual>
  </link>    

  <!-- Create bottom level -->  
  <link name="bottom_level">
    <inertial>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <mass value="1" />
      <xacro:cylinder_inertia mass="1" r="0.05" l="0.1" />
    </inertial>

    <visual>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <geometry>
        <cylinder length="0.006" radius="0.11"/>
      </geometry>
      <material name="blue" />
    </visual>

    <collision>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <geometry>
        <cylinder length="0.006" radius="0.11"/>
      </geometry>
    </collision>
  </link>

  <joint name="joint_bottom_level" type="fixed">
    <origin xyz="0.0 0 0.028" rpy="0 0 0"/>
    <parent link="base_link"/>
    <child link="bottom_level"/>
  </joint>

  <!-- Create sensor -->  
  <link name="sensor_laser">
    <inertial>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <mass value="1" />
      <xacro:cylinder_inertia mass="1" r="0.05" l="0.1" />
    </inertial>

    <visual>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <geometry>
        <box size="0.015 0.023 0.008"/>
      </geometry>
      <material name="white" />
    </visual>

    <collision>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <geometry>
        <box size="0.023 0.015 0.008"/>
      </geometry>
    </collision>
  </link>

  <joint name="joint_sensor_laser" type="fixed">
    <origin xyz="0.065 0 0.035" rpy="0 0 0"/>
    <parent link="base_link"/>
    <child link="sensor_laser"/>
  </joint>

  <!-- Create wheel right -->  
  <xacro:link_wheel name="link_right_wheel" />
  <!-- Left Wheel link -->
  <xacro:link_wheel name="link_left_wheel" />
    
  <!--   Joint for right wheel  -->
  <xacro:joint_wheel name="joint_right_wheel"  child="link_right_wheel"  origin_xyz="-0.00 0.09 -0.008"  />
  <!--   Joint for left wheel  -->
  <xacro:joint_wheel name="joint_left_wheel"   child="link_left_wheel"   origin_xyz="-0.00 -0.09 -0.008"  />
    
  <!-- Create caster front -->  
  <xacro:link_caster name="link_front_caster" />
  <!-- Create caster back -->  
  <xacro:link_caster name="link_back_caster" />

  <!--   Joint for front caster  -->
  <xacro:joint_caster name="joint_front_caster"  child="link_front_caster"  origin_xyz="-0.09 0.0 0"  />
  <!--   Joint for back caster  -->
  <xacro:joint_caster name="joint_back_caster"  child="link_back_caster"  origin_xyz="0.09 0.0 0"  />
</robot>